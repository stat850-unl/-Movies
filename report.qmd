---
format: html
editor: visual
---

```{r, eval = F}
# This code chunk contains code to install all of the dependencies
# necessary to compile and run your report, using if-statements to
# reduce install time for unnecessary code.
# It should be set to eval = F by default, so you aren't installing
# software on someone's computer without their consent.

# This works for packages that are on CRAN
if (!"dplyr" %in% installed.packages()) {
  install.packages("dplyr")
}
if (!"remotes" %in% installed.packages()) {
  install.packages("remotes")
}
if (!"shiny" %in% installed.packages()) {
  install.packages("shiny")
}
if (!"ggplot2" %in% installed.packages()) {
  install.packages("ggplot2")
}
if (!"tidyverse" %in% installed.packages()) {
  install.packages("tidyverse")
}
if (!"viridis" %in% installed.packages()) {
  install.packages("viridis")
}
if (!"readr" %in% installed.packages()) {
  install.packages("readr")
}
if (!"stats" %in% installed.packages()) {
  install.packages("stats")
}
# This is how to do it for a package that's only on github
if (!"emo" %in% installed.packages()) {
  remotes::install_github("hadley/emo")

```

## Introduction

In this project, we delve into an insightful dataset originating from the [Artists in the U.S.](https://www.arts.gov/impact/research/arts-data-profile-series/adp-31/data-tables) initiative, with supplementary access available through a repository link [here](https://github.com/rfordatascience/tidytuesday/blob/master/data/2022/2022-09-27/artists.csv). The dataset offers a comprehensive examination of the presence and distribution of Hispanic architects across various states in the United States, shedding light on the diverse landscape of workforce demographics within the realm of artistic professions.

The data, meticulously curated and maintained, serves as a valuable resource for our exploration. Its collection from reputable sources aligns with the rigor essential for statistical analysis, providing a foundation for our research inquiries. We aim to unravel key insights into the disparities and nuances within the artistic workforce across different geographical regions.

The dataset encompasses variables that encapsulate crucial information about the workforce, such as the state of data collection, the racial or ethnic categories of the workforce, the type of professions or occupations, the total number of workers, and the specific count and proportion of artists within these occupations. These variables, while fundamental to our analysis, may present anomalies that require careful consideration.

In our examination of the dataset, we have identified potential anomalies that warrant a closer look. Through visual assessments, we aim to elucidate these anomalies, providing a nuanced understanding of their origins. This exploration ensures the integrity of our subsequent analyses, fostering a comprehensive and accurate interpretation of the dataset.

As we embark on this investigative journey, our project's unique approach lies in the collaborative utilization of both Python and R programming languages for data cleaning, preprocessing, and visualization. This tandem application enables a comprehensive assessment of the dataset, capitalizing on the strengths of each language to ensure a robust analysis.

In the forthcoming sections, we will delve into the intricacies of the dataset, addressing anomalies, exploring trends, and presenting visualizations that encapsulate the diverse dimensions of the artistic workforce in the United States. Through our analytical lens, we seek to uncover patterns, correlations, and distinctive features that contribute to a richer understanding of the artistic landscape across different states and territories.

## Dataset Description

The provides [dataset](https://www.arts.gov/impact/research/arts-data-profile-series/adp-31/data-tables)insights into the presence and concentration of Hispanic architects in different states, highlighting variations in workforce demographics and professional diversity across the United States.

This Arts Data Profile presents comprehensive insights into the presence of artists in the workforce at both national and state levels. The data is drawn from the American Community Survey (ACS) conducted by the U.S. Census Bureau, covering the years 2015 to 2019. The ACS provides estimates for the total number of artists and their distribution across 13 specific artist occupations. The interactive map below visualizes counts and location quotients for the overall number of artists and workers in specific artist occupations in each U.S. state. These occupations include architects, arts directors, fine artists, animators, designers, dancers, choreographers, musicians, actors, entertainers, writers, authors, and photographers.\[1\]

```{python}
import pandas as pd
from scipy import stats
import matplotlib.pyplot as plt

# Import the dataset
artist = pd.read_csv("artists.csv")


# Delete missing values
artist = artist.dropna()
artist.head()
```

## Variables Description

| variable          | class     | description                                                                                                                          |
|--------------|--------------|--------------------------------------------|
| state             | character | This variable represents the U.S. state where the data was collected                                                                 |
| race              | character | This variable specifies the racial or ethnic category of the workforce being analyzed                                                |
| type              | character | This variable indicates the type of profession or occupation for which the data is recorded                                          |
| all_workers_n     | double    | This numeric variable represents the total number of workers in the specified state and occupation                                   |
| artists_n         | double    | This numeric variable signifies the number of artists within the same state and occupation                                           |
| artists_share     | double    | This numeric variable expresses the share or proportion of artists among all workers in the occupation within the particular state   |
| location_quotient | double    | Location quotient is a numerical measure used to assess the concentration of a particular occupation in a specific geographical area |

The above table encompasses essential variable descriptions for the dataset. The "class" variable, of character type, denotes the U.S. state where the data was collected. The "race" variable, also character, specifies the racial or ethnic category under analysis, while the "type" variable, character as well, indicates the recorded profession or occupation type. Numeric variables include "all_workers_n," representing the total number of workers in the specified state and occupation; "artists_n," signifying the count of artists within the same state and occupation; and "artists_share," a numeric variable expressing the share or proportion of artists among all workers in the occupation within the particular state. Additionally, the "location_quotient," a double type, serves as a numerical measure assessing the concentration of a specific occupation in a given geographical area.

## Methods

**Data Cleaning and Preparation**

| Number of Obseravations | Number of Variables | Number of Rows having missing values | Number of rows after data cleaning |
|-----------------|-----------------|--------------------|-------------------|
| 3381                    | 6                   | 1472                                 | 1909                               |

During data cleaning, 1472 rows with missing values were addressed, resulting in a refined dataset with 1909 rows. The cleaning process likely involved handling or imputing missing values to ensure the dataset's integrity and reliability for subsequent analyses.

The initial dataset underwent a systematic process of cleaning and restructuring to ensure its suitability for rigorous analysis. Notably, the cleaning procedures were predominantly executed using the versatile programming language R, with key reliance on the dplyr package \[\@dplyr-package\].

To commence the cleaning process, the raw data was scrutinized for any missing values or inconsistencies in the variable entries. Instances of missing data were addressed through appropriate imputation techniques, leveraging functionalities from the dplyr package to ensure data integrity throughout the dataset.

Furthermore, anomalies within categorical variables were systematically identified and rectified. This involved scrutinizing the dataset for outliers or erroneous entries that could potentially compromise the accuracy of subsequent analyses. The dplyr package's filter and mutate functions were instrumental in isolating and addressing these anomalies effectively.

A pivotal aspect of the data cleaning process involved the transformation of variables to harmonize units or scales where necessary. This meticulous adjustment, performed using dplyr's mutate function, ensured a standardized and coherent dataset, facilitating meaningful inter-variable comparisons.

**Collaborative Utilization of Python and R**

In addition to the aforementioned data cleaning endeavors in R, a parallel process was executed in Python to capitalize on the strengths of both programming languages. Python's pandas library played a crucial role in complementing the data cleaning efforts. The collaborative utilization of Python and R aimed to exploit the distinctive features and capabilities of each language, enhancing the overall robustness of the dataset.

**Integration and Verification**

Following the individual cleaning processes in R and Python, the datasets were integrated, and a meticulous verification was undertaken to confirm their consistency and alignment. Discrepancies, if any, were resolved through a collaborative review process, ensuring a cohesive and accurate dataset for subsequent analyses.

In summary, the data cleaning procedures encompassed imputation of missing values, identification and rectification of anomalies, and standardization of variables. The integration of Python and R facilitated a comprehensive and meticulous approach to ensure the dataset's readiness for advanced statistical analyses.

Describe any data cleaning and rearranging you needed to do to get your dataset into a workable form. Make sure to cite any packages which were important in your data cleaning process in this section. For instance, if you used dplyr, then it would be appropriate to say something like

> we used the group-apply-combine paradigm with the `dplyr` functions `group_by` and `summarize` [@dplyr-package] to generate a dataset for each day of the observation period from the 15-minute interval observations in the raw data set.

## Topic of Exploration

The first question that we should find the answer is as following:

-   Are there any states with a location quotient below 1.0 for artists?

```{python table-setup-py}
#| echo: false
# Explicitly import pandas
import pandas as pd
from scipy import stats
import matplotlib.pyplot as plt

# Import the dataset
artist = pd.read_csv("artists.csv")


# Delete missing values
artist = artist.dropna()


# Group by state and calculate the average location quotient for each state
average_location_quotient = artist.groupby('state')['location_quotient'].mean().reset_index()

# Visual analysis using a histogram
plt.figure(figsize=(10, 6))
plt.hist(average_location_quotient['location_quotient'], bins=20, edgecolor='black')
plt.title('Histogram of Average Location Quotients for Artists')
plt.xlabel('Average Location Quotient')
plt.ylabel('Frequency')
plt.show()

# Visual analysis using a box plot
plt.figure(figsize=(10, 6))
plt.boxplot(average_location_quotient['location_quotient'])
plt.title('Average Location Quotient Distribution for Artists')
plt.xlabel('Artists')
plt.ylabel('Average Location Quotient')
plt.show()


# Filter states with an average location quotient less than 1.0
states_below_1 = average_location_quotient[average_location_quotient['location_quotient'] < 1.0]
states_below_1

```

The table provided enumerates states with a location quotient below one, signaling a lower concentration of artists compared to the national average. It's noteworthy that the calculation of the location quotient for each state involves averaging their individual values. This approach is essential because each state presents a distinct location quotient value.

The Histogram analysis further enriches our understanding. Notably, the histogram illustrates that the frequency of location quotients falling within the range of 0.5 to 1 is the most prevalent, creating a right-skewed distribution. This skewness implies that a substantial number of states have a location quotient closer to 1, reinforcing the trend of a lower concentration of artists than the national average. In essence, the right-skewed plot indicates that, in a majority of states, the concentration of artists tends to be below the national average, particularly within the specified range of location quotients.

However, the box plot reveals the presence of an outlier with the highest value of the location quotient. In question 3, we will delve deeper into a more detailed examination of this outlier to gain a better understanding of its significance and impact on the overall dataset.

The second question we aim to address is as follows:

-   What is the overall distribution of artist types across different states or territories?

```{r}
#| echo: false
# Load required libraries
library(shiny)
library(ggplot2)
library(readr)
library(stats)
library(dplyr)

# Import the dataset
artist <- read_csv("artists.csv")

# Display the first few rows of the dataset
head(artist)

# Delete missing values
artist <- na.omit(artist)

# Question 2: What is the overall distribution of artist types across different states or territories?

# Calculate the overall distribution
distribution <- artist %>% group_by(state, type) %>% summarise(count = n())

# Summarize the count for each state
summary_data <- distribution %>% group_by(state) %>% summarise(total_types = n())

# Display the overall distribution
print(summary_data)

# Create a heatmap
ggplot(summary_data, aes(x = state, y = total_types, fill = total_types)) +
  geom_tile() +
  scale_fill_gradient(low = "red", high = "blue") +
  labs(title = "Distribution of Artist Types Across States",
       x = "State",
       y = "Number of Types") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))

```

As shown in the above figure, while the heatmap is a very useful visualization, it also has its own disadvantages which are reflected from the above figure.

1.  Heatmaps rely on color to convey information, and misinterpretation of colors is a common issue. As shown in above, it is hard for the reviewers (even Mahyar and Jing) to interpret differences in shades. We also have difficulty distinguishing between similar colors. This is one reason that I decided to use another format to answer this question.
2.  Heatmaps are effective for showing overall patterns but may not provide detailed information on individual data points. if we want to analyze the specific values in one specific state, it is hard to read it directly from this heat table. This is the second reason that I need to use other format table to answer this question.
3.  Depending on the range of counts in my data, the color scale might not effectively represent the variations.
4.  we have many states or artist types as shown in the table, the labels on the axes (states and artist types) has become crowded and difficult to read. This is especially true whenI have a large dataset (51 states and lots of types of artists), and it is challenging to display all labels clearly.

Consider the specific goals of our analysis and the characteristics of our dataset when choosing a visualization method. Based on waht we learnt in the class, we want to create one shiny graph to answer this question.

```{r}
# Load required libraries
library(dplyr)
library(ggplot2)

# Get unique states in the dataset
all_states <- unique(artist$state)

# Create a function to generate plots for a specific state
generate_plots_for_state <- function(selected_state) {
  state_data <- artist %>%
    filter(state == selected_state) %>%
    group_by(type) %>%
    summarise(count = n())

  # Bar Plot
  bar_plot <- ggplot(state_data, aes(x = type, y = count, fill = type)) +
    geom_bar(stat = "identity") +
    labs(title = paste("Distribution of Artist Types in", selected_state),
         x = "Artist Type",
         y = "Count") +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 90, hjust = 1))

  # Pie Chart
  pie_chart <- ggplot(state_data, aes(x = "", y = count, fill = type)) +
    geom_bar(stat = "identity") +  # Use geom_bar instead of geom_bar(stat = "pie")
    labs(title = paste("Pie Chart of Artist Types in", selected_state),
         x = NULL,
         y = NULL) +
    theme_void() +
    coord_polar(theta = "y")

  # Print the plots
  print(bar_plot)
}

# Generate plots for each state
for (state in all_states) {
  generate_plots_for_state(state)
}

```

In the analysis of artist types across states, it is observed that the majority of states encompass a diverse array of artist categories. However, exceptions to this trend are evident in North Carolina, Wyoming, and nine additional states, where a more limited variety of artist types is apparent.

Despite this observation, discerning the specific types of artists that are underrepresented in these states proves challenging. To address this limitation, detailed distributions of artist types within each individual state are made available through interactive Shiny apps. These applications facilitate a more granular exploration of the artist workforce composition in a given state, shedding light on the specific artistic professions that may be less prevalent or entirely absent. This approach enhances the visibility of nuanced regional variations, allowing for a comprehensive understanding of the intricate dynamics shaping the distribution of artists across the United States.

We intend to tackle the following as our third question:

-   The top 10 state /territory has the highest number of artists, as indicated by the location quotient.

```{python table-setup-py2}
#| echo: false
# Calculate the average location_quotient for each state
average_location_quotient = artist.groupby('state')['location_quotient'].mean()

# Sort states based on average location_quotient and get the top 10
top_10_states = average_location_quotient.sort_values(ascending=False).head(10)

# Display the top 10 states
print("Top 10 States with Highest Location Quotient:")
print(top_10_states)
```

```{r}
#| echo: false
# Assuming you have loaded your dataset into a data frame named 'artist'
# Replace 'your_data.csv' with the actual file path if you are reading from a CSV file

# Load required libraries
library(dplyr)
library(ggplot2)

# Import the dataset
artist <- read.csv("artists.csv")  # Replace with the actual file path
artist <- na.omit(artist)

# Calculate average location quotient for each state
average_location_quotient <- artist %>%
  group_by(state) %>%
  summarize(average_location_quotient = mean(location_quotient))

# Bar plot of average location quotient for each state
ggplot(average_location_quotient, aes(x = state, y = average_location_quotient)) +
  geom_bar(stat = "identity", fill = "skyblue") +
  labs(title = "Average Location Quotient for Each State",
       x = "State",
       y = "Average Location Quotient") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))

```

As mentioned in our first question, there's a standout case in terms of location quotient. The findings from question 3 affirm this outlier, pinpointing the District of Columbia with a location quotient of 3.02, nearly twice the value of Nevada, which holds the second-highest location quotient. Conversely, the histogram highlights that West Virginia has the lowest location quotient among the states.

Our focus shifts to the fourth question, which can be stated as follows:

-   Is there a correlation between the percentage of artists in a state (artists_share) and the state's number of workers?

    ```{r}
    #| echo: false
    # Check the structure of your dataframe
    str(artist)

    # Calculate the correlation
    correlation <- cor(artist$artists_share, artist$all_workers_n)

    # Print the correlation
    cat("Correlation between artists_share and all_workers_n:", correlation, "\n")
    ```

In this part, we calculate the correlation using R. The correlation between two variables, X and Y, is calculated using the Pearson correlation coefficient (r), which is defined by the following formula:

![](correction.png)

X: the percentage of artists in a state (artists_share)

Y: the state's number of workers (all_workers_n)

The correlation coefficient (r) ranges from -1 to 1:

![](explain.png) The correlation coefficient of approximately -0.0315 suggests a very weak negative correlation between the percentage of artists in a state (**`artists_share`**) and the state's number of workers (**`all_workers_n`**). Here are some interpretations:

1.  **Weak Negative Correlation:** The negative sign indicates that, on average, as the percentage of artists in a state increases, the state's number of workers tends to decrease slightly. However, the strength of this relationship is very weak.

2.  **Limited Predictive Power:** The correlation is close to zero, indicating that there is little linear association between the two variables. This means that the percentage of artists in a state is not a strong predictor or indicator of the total number of workers in that state.

3.  **Other Factors at Play:** The weak correlation suggests that factors other than the percentage of artists likely influence the total number of workers in a state. There may be various economic, demographic, or industry-specific factors that contribute to the overall workforce size.

4.  **Cautious Interpretation:** Correlation does not imply causation. Even though there is a weak correlation, it does not necessarily mean that the presence of artists directly causes a decrease in the number of workers or vice versa. Other confounding factors may be influencing the observed relationship.

In summary, while there is a statistical correlation, the practical significance of this correlation is very limited. It's essential to interpret correlation in the context of the specific data and consider other relevant factors when drawing conclusions about the relationship between variables.

now turning our attention to the fifth question, and it can be articulated as follows:

-   How does the racial diversity of artists vary across different states or territories? Are there states with a more diverse artist than others?

    ```{r}
    #| echo: false
    # Assuming you have loaded your dataset into a data frame named 'artist'
    # Replace 'your_data.csv' with the actual file path if you are reading from a CSV file

    # Load required libraries
    library(tidyverse)
    library(viridis)

    # Import the dataset
    artist <- read.csv("artists.csv")  # Replace with the actual file path
    artist <- na.omit(artist)

    # Process data and create plot
    data_processed <- artist %>%
      group_by(state, race) %>%
      summarise(artists_n = sum(artists_n)) %>%
      group_by(state) %>%
      mutate(percentage_of_artists = (artists_n / sum(artists_n)) * 100)

    # Create a bar plot using ggplot2 with facets for each state
    ggplot(data_processed, aes(x = race, y = percentage_of_artists, fill = race)) +
      geom_bar(stat = "identity", position = "dodge") +
      facet_wrap(~state) +
      labs(title = "Racial Diversity of Artists Across States",
           x = "Race",
           y = "Percentage of Artists",
           fill = "Race") +
      theme_minimal() +
      theme(axis.text.x = element_text(angle = 0, hjust = 1, size = 0),
            axis.text.y = element_text(size = 5),
            axis.title = element_text(face = "bold"),
            legend.position = "right") +  # Move the legend to the right
      scale_fill_viridis(discrete = TRUE)
    ```

    The figure above portrays the racial diversity across different territories in the United States. Notably, Hawaii distinguishes itself by displaying greater diversity in terms of African American, Asian, Hispanic, Other, and White populations. Unlike other states and territories where a significant portion of artists is predominantly White, Hawaii stands out with a noteworthy presence of Asian artists, almost on par with the number of White artists. This distinctive pattern could be influenced by factors such as cultural demographics, immigration trends, and the unique blend of ethnicities that characterize Hawaii's population. Additionally, historical and social factors may contribute to this distinct composition of artists in Hawaii compared to other regions.

The last question, and it can be articulated as follows:

-   The top 10 states which has the most number of Asian artists, and the related population percentage.

```{r}
# Calculate the racial composition for Asian artists
artist_asian_composition <- artist %>%
  filter(race == "Asian") %>%
  group_by(state, race) %>%
  summarise(artist_count = sum(artists_n, na.rm = TRUE), .groups = 'drop') %>%
  mutate(artist_percentage = artist_count / sum(artist_count, na.rm = TRUE))

# Calculate the overall racial composition of the Asian population in each state
population_asian_composition <- artist %>%
  filter(race == "Asian") %>%
  group_by(state, race) %>%
  summarise(population_count = sum(all_workers_n, na.rm = TRUE), .groups = 'drop') %>%
  mutate(population_percentage = population_count / sum(population_count, na.rm = TRUE))

# Merge the two datasets
merged_asian_data <- merge(artist_asian_composition, population_asian_composition, by = c("state", "race"), all = TRUE)
str(merged_asian_data)

# Sort merged_asian_data by artist_count in descending order
top_asian_states <- merged_asian_data[order(-merged_asian_data$artist_count), ]

# Select the top 10 states
top_10_asian_states <- head(top_asian_states, 10)

# Print the top 10 states with artist count and population percentage
print(top_10_asian_states[, c("state", "artist_count", "population_percentage")])

# Save the top 10 Asian states table to a CSV file
write.table(top_10_asian_states[, c("state", "artist_count", "population_percentage")],
            file = "top_10_asian_states_table.csv",
            sep = ",",
            row.names = FALSE)

# Print the table
print(top_10_asian_states[, c("state", "artist_count", "population_percentage")])
```

In examining the distribution of Asian artists across states, a comprehensive analysis reveals California's preeminence as the leading state with the highest number of Asian artists, totaling 61,210 individuals, constituting approximately 0.39% of the state's population. Following closely are New York, Texas, and New Jersey, each showcasing substantial counts of Asian artists and corresponding population percentages. This top-10 ranking underscores the regional variations in the concentration of Asian artists, emphasizing the significance of California as a prominent center for this demographic within the artistic landscape.

Now we are curious about the distribution for the distribution of race across all states. The provided Shiny app below is designed to explore and visualize the distribution of a selected race across U.S. states, focusing on artist counts and population percentages. The user interface (UI) allows users to dynamically choose a specific race from the dataset and specify the number of top states they want to analyze. Upon making selections, an action button triggers the update, and the main panel displays a table showcasing the top states based on the selected race, arranged by artist count in descending order. The table includes pertinent information such as the state name, artist count, artist percentage, population count, and population percentage. The reactive server function efficiently processes the dataset, filtering and aggregating the relevant information, ensuring a responsive and interactive exploration of racial distribution within the artist community across diverse U.S. states.

```{r}
# Assuming you have already loaded the 'artist' dataset and executed previous code

# Calculate the racial composition for all artists
artist_composition <- artist %>%
  group_by(state, race) %>%
  summarise(artist_count = sum(artists_n, na.rm = TRUE), .groups = 'drop') %>%
  mutate(artist_percentage = artist_count / sum(artist_count, na.rm = TRUE))

# Calculate the overall racial composition of the population in each state
population_composition <- artist %>%
  group_by(state, race) %>%
  summarise(population_count = sum(all_workers_n, na.rm = TRUE), .groups = 'drop') %>%
  mutate(population_percentage = population_count / sum(population_count, na.rm = TRUE))

# Merge the two datasets
merged_data <- merge(artist_composition, population_composition, by = c("state", "race"), all = TRUE)

# Sort merged data by artist_count in descending order
sorted_data <- merged_data[order(-merged_data$artist_count), ]

# Function to get top N states for each race
get_top_states <- function(race, n = 10) {
  subset_data <- sorted_data[sorted_data$race == race, ]
  top_states <- head(subset_data, n)
  return(top_states)
}

# Example: Get top 10 states for each race
all_races <- unique(sorted_data$race)
top_states_by_race <- lapply(all_races, get_top_states, n = 10)

# Print the results
for (i in seq_along(all_races)) {
  cat("Top 10 states for", all_races[i], ":\n")
  print(top_states_by_race[[i]])
  cat("\n")
}

# Plot histograms and pie charts
for (i in seq_along(all_races)) {
  race_data <- top_states_by_race[[i]]

  # Pie chart for population percentage
  pie(race_data$population_percentage, labels = race_data$state,
      main = paste("Pie Chart of Population Percentage for", all_races[i]))
}

```

The Shiny app provides an insightful and interactive platform to examine the distribution of artists across various racial categories within U.S. states. Users can dynamically explore artist counts and population percentages for different races, gaining valuable insights into the artistic landscape's diversity. The app accommodates not only the analysis of Asian artists, where California emerges as a leader with the highest count, but also extends this functionality to other racial categories. Users have the flexibility to select a specific race, determine the number of top states to analyze, and promptly observe the corresponding distribution. This comprehensive tool facilitates a nuanced exploration of racial diversity within the artist community, fostering a deeper understanding of the geographic concentrations and proportions of artists from various racial backgrounds across the United States.

The `echo: false` option disables the printing of code (only output is displayed).

If you generate a figure, it should have a caption. Here's a demonstration of how to do that:

```{r iris-plot}
#| label: fig-iris
#| fig-width: 8
#| fig-height: 4 # Change the figure dimensions using fig-width/height
#| out-width: 80% # This changes the size of the figure as rendered in the text. 
#| fig-cap: "This figure shows the relationship between sepal width and petal width in irises. I've used geom_jitter to combat overplotting, as the data are measured in relatively consistent increments. The figure is drawn with `ggplot2` [@ggplot2-package]."
#| echo: false


data(iris)
library(ggplot2)
ggplot(iris, aes(x = Sepal.Width, y = Petal.Width, color = Species)) + 
  geom_jitter() + 
  xlab("Sepal Width (cm)") + ylab("Petal Width (cm)") + 
  ggtitle("Sepal and Petal Dimensions")
```

Then, you can reference @fig-iris in the text and the appropriate cross-reference will be generated.

You can find additional information about formatting figures generated from code in the [quarto documentation](https://quarto.org/docs/authoring/figures.html#computations).

## Additional Exploration topic

Add another topic here... as many as you desire, really. Make sure to include a transition between the two sections that connects the two with some sort of logical train of thought.

## Conclusion

The project provides a comprehensive exploration of the concentration and diversity of artists across different states and territories in the United States. Here are key conclusions drawn from the analyses:

Location Quotients and Concentration of Artists:

The majority of states exhibit a lower concentration of artists than the national average, as indicated by location quotients below 1.0. The right-skewed distribution in the histogram emphasizes that a substantial number of states have location quotients closer to 1, further confirming the trend of lower artist concentrations compared to the national average.

Outliers and Regional Disparities:

The identification of an outlier, the District of Columbia, with a significantly high location quotient of 3.02, raises questions about its unique artistic landscape. Further investigation in question 3 will provide a deeper understanding of this outlier and its impact on the overall dataset. The box plot highlights regional disparities, with District of Columbia having the highest location quotient among the states, emphasizing variations in artist concentrations across different regions.

Interactive Visualization of Artist Types Across U.S. States:

The Shiny app enables exploration and visualization of artist type distributions across U.S. states or territories. Initially showcasing patterns through a heatmap, the app acknowledges heatmap limitations and offers an alternative format for enhanced interpretation. Users can select a state, triggering dynamic displays including a table, bar plot, and pie chart. These visualizations yield nuanced insights into artist type distributions within chosen states, presenting specific counts and proportions for various categories. The app's interactivity fosters user engagement, enabling deeper insights into the intricate dynamics shaping the artist workforce across diverse U.S. regions.

Racial Diversity and Influencing Factors:

The examination of racial diversity reveals Hawaii stands out, displaying a unique blend of African American, Asian, Hispanic, Other, and White artists. This distinctive pattern may be influenced by cultural demographics, immigration trends, and historical and social factors specific to Hawaii. Economic, cultural, and demographic factors play a significant role in shaping the concentration of artists, as observed in states with lower location quotients. States with diverse economic structures, different industry focuses, or distinct cultural emphases may exhibit lower concentrations of artists.

Correlation Insights: Artists' Presence and Workforce Size

The correlation coefficient of approximately -0.0315 signifies a very weak negative correlation between the percentage of artists in a state (artists_share) and the state's number of workers (all_workers_n). In practical terms, this suggests that, on average, as the percentage of artists in a state increases, the state's number of workers experiences a slight decrease, though the strength of this association is minimal. The correlation's proximity to zero indicates limited predictive power, implying that the percentage of artists in a state is not a robust indicator or predictor of the total workforce size. The weak correlation also suggests that various other factors, such as economic, demographic, or industry-specific influences, likely play a role in shaping the overall workforce size. Importantly, the cautionary note emphasizes that correlation does not imply causation, underscoring the need to consider additional confounding factors when interpreting the observed relationship between artists' presence and workforce size.

Relationship Between Percentage of Artists and Overall Workforce Size:

States with a location quotient below 1.0 generally have a smaller proportion of their workforce engaged in artistic occupations compared to the national average. The correlation analysis suggests a slight negative relationship, indicating that, on average, as the percentage of artists increases, the state's overall workforce size tends to decrease very slightly. However, the percentage of artists is not a strong predictor of the overall workforce size, and various economic, demographic, or industry-specific factors contribute to the observed variations. In summary, the project sheds light on the nuanced factors influencing the concentration and diversity of artists across states, providing valuable insights into the intricate interplay of economic, cultural, and demographic dynamics in shaping regional artistic landscapes.

Exploring Number of Artists Across Different Satae For Different Race:

In scrutinizing the distribution of Asian artists across U.S. states, California emerges as the preeminent leader, boasting the highest count of Asian artists---61,210 individuals, constituting approximately 0.39% of the state's population. New York, Texas, and New Jersey closely follow suit, showcasing substantial counts of Asian artists and corresponding population percentages. This top-10 ranking illuminates regional variations in the concentration of Asian artists, underscoring California's significance as a prominent center for this demographic within the artistic landscape. The subsequent introduction of a Shiny app designed for exploring racial distribution across all states provides an interactive and insightful tool. Users can dynamically select a specific race, set the number of top states for analysis, and observe detailed distributions, including artist counts, percentages, population counts, and population percentages. This comprehensive platform fosters a nuanced exploration of racial diversity within the artist community, offering deeper insights into the geographic concentrations and proportions of artists from various racial backgrounds across the United States.

## Tips

(delete this section from your report!)

Almost anything you might want to know about how to format output in quarto can be found [here](https://quarto.org/docs/authoring/markdown-basics.html). Feel free to email/come to office hours to figure out how to do XYZ - part of the goal of making you write this report is that I want you to know how to write e.g. a journal paper in Quarto as well, so now's the time to experiment.

If you want to know what the wordcount of your report is, you can run the following command in your terminal:

```         
pandoc --lua-filter wordcount.lua report.qmd
```

Notice that I have not pushed `_output/report.html` or the `_output/report_files/` folder to github - this is intentional. I have actually set `_output` to not show up in git, to encourage you all to NOT push the rendered files to github and to instead work from the markdown files directly.

You may find it cleaner to create a figure subdirectory and store any figures that aren't created by R/Python in that folder. I encourage you to organize this repository in a sensible way.

## Tips

1.  \![\]([Artists in the Workforce: National and State Estimates for 2015-2019 \| National Endowment for the Arts](https://www.arts.gov/impact/research/arts-data-profile-series/adp-31)
2.  )
